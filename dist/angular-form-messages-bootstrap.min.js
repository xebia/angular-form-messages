angular.module("angularFormMessagesBootstrap",["angularFormMessages"]),angular.module("angularFormMessagesBootstrap").directive("afFeedback",["MESSAGE_TYPES","AfMessageService",function(a,b){return{require:["afFeedback","^afSubmit"],controller:angular.noop,link:function(a,c,d,e){var f=e[0],g=e[1];f.messageId=d.afFeedback||d.afMessageId,b.validation(a,f.messageId,function(a,b){b.length||g.showSuccess?d.$addClass("has-feedback"):d.$removeClass("has-feedback")})}}}]),angular.module("angularFormMessagesBootstrap").directive("afFieldState",["$timeout","AfMessageService","MESSAGE_TYPES",function(a,b,c){return{require:"^afSubmit",controller:angular.noop,link:function(d,e,f,g){function h(a){f.$addClass(k[a])}function i(a){f.$removeClass(k[a])}function j(a){var b={};return angular.forEach(a,function(a){var c=a.className.match(/(alert-\w+)/g)[0];b[c]=a}),b}var k={};k[c[0]]="has-success",k[c[1]]="has-info",k[c[2]]="has-warning",k[c[3]]="has-error";var l={"alert-success":c[0],"alert-info":c[1],"alert-warning":c[2],"alert-danger":c[3]},m=[],n=f.afFieldState||f.afMessageId;d.$on("validation",function(d,f,k){a(function(){var a=e[0].querySelectorAll(".alert"),d=Object.keys(j(a));angular.forEach(c,function(a){i(a)}),f===n&&(m=k),1===d.length&&h(l[d[0]]),d.length||(m.length?h(b.getMostSevereMessage(m).type):g.showSuccess&&h(c[0]))})})}}}]),angular.module("angularFormMessagesBootstrap").directive("afMessages",["AfMessageService","MESSAGE_TYPES",function(a,b){var c={ERROR:"glyphicon-exclamation-sign",WARNING:"glyphicon-warning-sign",INFO:"glyphicon-info-sign",SUCCESS:"glyphicon-ok"},d={ERROR:"glyphicon-remove",WARNING:"glyphicon-warning-sign",INFO:"glyphicon-info-sign",SUCCESS:"glyphicon-ok"},e={ERROR:"danger",WARNING:"warning",INFO:"info",SUCCESS:"success"};return{restrict:"A",scope:!0,priority:1,require:["?^afFeedback","afMessages","^afSubmit"],templateUrl:"templates/bootstrap/messages.html",link:function(f,g,h,i){function j(a){return angular.forEach(a,function(a){a.alertType=e[a.type],a.icon=c[a.type]}),a}function k(a,b){var c={};return c[b]=a,angular.extend(l||{},c)}var l,m=i[0],n=i[1],o=i[2],p=n.messageIdPrefix||n.messageId;a.validation(f.$parent,p,function(c,e,g){m&&m.messageId===n.messageId&&(f.messageType=g||(o.showSuccess?b[0]:void 0),f.icon=d[f.messageType]),e=j(e),e=k(e,c),l=e,f.messages=a.getMessagesToShow(e)},!!n.messageIdPrefix)}}}]),angular.module("angularFormMessages").run(["$templateCache",function(a){"use strict";a.put("templates/bootstrap/messages.html",'<span ng-if="messageType" data-test="feedback">\n  <span class="glyphicon form-control-feedback" ng-class="icon" aria-hidden="true"></span>\n  <span class="sr-only">({{messageType}})</span>\n</span>\n<div ng-repeat="messagesForMessageId in messages track by $index">\n  <div class="alert help-block" ng-class="\'alert-\' + message.alertType" ng-style="{ \'margin-bottom\': $last ? undefined : \'0px\' }" role="alert" ng-repeat="message in messagesForMessageId track by $index">\n    <span class="glyphicon" ng-class="message.icon" aria-hidden="true"></span>\n    <span class="sr-only">{{message.type}}:</span>\n    <span af-message-label="{{message.message}}"></span>\n  </div>\n</div>\n')}]);